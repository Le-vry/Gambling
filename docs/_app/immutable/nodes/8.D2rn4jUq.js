import{s as pe,n as W,r as ce,f as X}from"../chunks/scheduler.BWz-PGjO.js";import{S as we,i as ue,e as S,t as J,s as N,c as V,a as F,b as Z,d as M,f as O,k as ae,m as c,l as A,g as R,h as E,n as v,p as ne,j as ge,u as T}from"../chunks/index.D7Zg-sio.js";import{e as H}from"../chunks/each.D6YF6ztN.js";function $(h,o,l){const e=h.slice();return e[29]=o[l],e}function ee(h,o,l){const e=h.slice();return e[32]=o[l],e}function le(h,o,l){const e=h.slice();return e[35]=o[l],e}function te(h){let o,l,e;return{c(){o=S("div"),this.h()},l(r){o=V(r,"DIV",{class:!0,style:!0}),F(o).forEach(M),this.h()},h(){A(o,"class",l=X(h[35].tile)+" svelte-1q2a49s"),A(o,"style",e=h[35].border)},m(r,i){R(r,o,i)},p(r,i){i[0]&1&&l!==(l=X(r[35].tile)+" svelte-1q2a49s")&&A(o,"class",l),i[0]&1&&e!==(e=r[35].border)&&A(o,"style",e)},d(r){r&&M(o)}}}function oe(h){let o;return{c(){o=S("div"),this.h()},l(l){o=V(l,"DIV",{class:!0,style:!0}),F(o).forEach(M),this.h()},h(){A(o,"class","player svelte-1q2a49s"),c(o,"left",h[1]+"px"),c(o,"top",h[2]+"px"),c(o,"width",he+"px"),c(o,"height",re+"px")},m(l,e){R(l,o,e)},p(l,e){e[0]&2&&c(o,"left",l[1]+"px"),e[0]&4&&c(o,"top",l[2]+"px")},d(l){l&&M(o)}}}function se(h){let o;return{c(){o=S("div"),this.h()},l(l){o=V(l,"DIV",{class:!0,style:!0}),F(o).forEach(M),this.h()},h(){A(o,"class","bullet svelte-1q2a49s"),c(o,"left",h[32].left+"px"),c(o,"top",h[32].top+"px"),c(o,"width",h[32].width+"px"),c(o,"height",h[32].height+"px")},m(l,e){R(l,o,e)},p(l,e){e[0]&16&&c(o,"left",l[32].left+"px"),e[0]&16&&c(o,"top",l[32].top+"px"),e[0]&16&&c(o,"width",l[32].width+"px"),e[0]&16&&c(o,"height",l[32].height+"px")},d(l){l&&M(o)}}}function fe(h){let o;return{c(){o=S("div"),this.h()},l(l){o=V(l,"DIV",{class:!0,style:!0}),F(o).forEach(M),this.h()},h(){A(o,"class","enemy svelte-1q2a49s"),c(o,"left",h[29].left+"px"),c(o,"top",h[29].top+"px"),c(o,"width",h[29].width+"px"),c(o,"height",h[29].height+"px")},m(l,e){R(l,o,e)},p(l,e){e[0]&32&&c(o,"left",l[29].left+"px"),e[0]&32&&c(o,"top",l[29].top+"px"),e[0]&32&&c(o,"width",l[29].width+"px"),e[0]&32&&c(o,"height",l[29].height+"px")},d(l){l&&M(o)}}}function _e(h){let o,l,e,r,i,x,p,P="Game",I,b,u,_,U,B,L,q,d=H(h[0]),w=[];for(let f=0;f<d.length;f+=1)w[f]=te(le(h,d,f));let a=h[3]>0&&oe(h),D=H(h[4]),g=[];for(let f=0;f<D.length;f+=1)g[f]=se(ee(h,D,f));let j=H(h[5]),n=[];for(let f=0;f<j.length;f+=1)n[f]=fe($(h,j,f));return{c(){o=S("main"),l=S("div"),e=J("hp:"),r=J(h[3]),i=N(),x=S("div"),p=S("h1"),p.textContent=P,I=N(),b=S("div"),u=S("section");for(let f=0;f<w.length;f+=1)w[f].c();_=N(),a&&a.c(),U=N();for(let f=0;f<g.length;f+=1)g[f].c();B=N();for(let f=0;f<n.length;f+=1)n[f].c();this.h()},l(f){o=V(f,"MAIN",{class:!0});var m=F(o);l=V(m,"DIV",{style:!0});var s=F(l);e=Z(s,"hp:"),r=Z(s,h[3]),s.forEach(M),i=O(m),x=V(m,"DIV",{class:!0});var y=F(x);p=V(y,"H1",{class:!0,"data-svelte-h":!0}),ae(p)!=="svelte-1jgoyji"&&(p.textContent=P),I=O(y),b=V(y,"DIV",{class:!0});var Y=F(b);u=V(Y,"SECTION",{class:!0});var C=F(u);for(let t=0;t<w.length;t+=1)w[t].l(C);_=O(C),a&&a.l(C),U=O(C);for(let t=0;t<g.length;t+=1)g[t].l(C);B=O(C);for(let t=0;t<n.length;t+=1)n[t].l(C);C.forEach(M),Y.forEach(M),y.forEach(M),m.forEach(M),this.h()},h(){c(l,"position","absolute"),c(l,"top","200px"),c(l,"left","350px"),A(p,"class","svelte-1q2a49s"),A(u,"class","svelte-1q2a49s"),A(b,"class","categories_container svelte-1q2a49s"),A(x,"class","container svelte-1q2a49s"),A(o,"class","svelte-1q2a49s")},m(f,m){R(f,o,m),E(o,l),E(l,e),E(l,r),E(o,i),E(o,x),E(x,p),E(x,I),E(x,b),E(b,u);for(let s=0;s<w.length;s+=1)w[s]&&w[s].m(u,null);E(u,_),a&&a.m(u,null),E(u,U);for(let s=0;s<g.length;s+=1)g[s]&&g[s].m(u,null);E(u,B);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(u,null);L||(q=[v(window,"keydown",ne(h[6])),v(window,"keyup",h[7])],L=!0)},p(f,m){if(m[0]&8&&ge(r,f[3]),m[0]&1){d=H(f[0]);let s;for(s=0;s<d.length;s+=1){const y=le(f,d,s);w[s]?w[s].p(y,m):(w[s]=te(y),w[s].c(),w[s].m(u,_))}for(;s<w.length;s+=1)w[s].d(1);w.length=d.length}if(f[3]>0?a?a.p(f,m):(a=oe(f),a.c(),a.m(u,U)):a&&(a.d(1),a=null),m[0]&16){D=H(f[4]);let s;for(s=0;s<D.length;s+=1){const y=ee(f,D,s);g[s]?g[s].p(y,m):(g[s]=se(y),g[s].c(),g[s].m(u,B))}for(;s<g.length;s+=1)g[s].d(1);g.length=D.length}if(m[0]&32){j=H(f[5]);let s;for(s=0;s<j.length;s+=1){const y=$(f,j,s);n[s]?n[s].p(y,m):(n[s]=fe(y),n[s].c(),n[s].m(u,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=j.length}},i:W,o:W,d(f){f&&M(o),T(w,f),a&&a.d(),T(g,f),T(n,f),L=!1,ce(q)}}}let he=40,re=40,z=5,G=.4,Q=5;function me(h,o,l){let e=[],r=727,i=409,x=6,p={x:0,y:0},P=!1,I=[],b={},u={},_=[],U=[{left:959,top:314,width:40,height:40,hp:8},{left:494,top:502,width:40,height:40,hp:8}],B=[{left:494,top:314,width:40,height:40,hp:8},{left:959,top:502,width:40,height:40,hp:8}],L=[{left:959,top:314,width:40,height:40,hp:8},{left:494,top:314,width:40,height:40,hp:8},{left:494,top:502,width:40,height:40,hp:8},{left:959,top:502,width:40,height:40,hp:8}],q=!1,d=Math.floor(Math.random()*3);w();function w(){l(0,e=[]),d=Math.floor(Math.random()*3);for(let t=0;t<247;t++)t>59&&t<73||t>78&&t<92||t>97&&t<111||t>116&&t<130||t>135&&t<149||t>154&&t<168||t>173&&t<187?e.push({pos:t,tile:"floor"}):t==28||t==47||t==115||t==116||t==130||t==131||t==199||t==218?e.push({pos:t,tile:"door"}):t==0?e.push({pos:t,tile:"wall",border:"border-top-left-radius: 5px;"}):t==18?e.push({pos:t,tile:"wall",border:"border-top-right-radius: 5px;"}):t==228?e.push({pos:t,tile:"wall",border:"border-bottom-left-radius: 5px;"}):t==246?e.push({pos:t,tile:"wall",border:"border-bottom-right-radius: 5px;"}):e.push({pos:t,tile:"wall"});if(d==0){let t=Math.floor(Math.random()*3);t==0?(l(0,e[115].tile="wall",e),l(0,e[116].tile="wall",e),l(0,e[130].tile="wall",e),l(0,e[131].tile="wall",e),l(0,e[199].tile="wall",e),l(0,e[218].tile="wall",e),l(0,e)):t==1?(l(0,e[28].tile="wall",e),l(0,e[47].tile="wall",e),l(0,e[115].tile="wall",e),l(0,e[116].tile="wall",e),l(0,e[130].tile="wall",e),l(0,e[131].tile="wall",e),l(0,e)):t==2?(l(0,e[28].tile="wall",e),l(0,e[47].tile="wall",e),l(0,e[199].tile="wall",e),l(0,e[218].tile="wall",e),l(0,e[130].tile="wall",e),l(0,e[131].tile="wall",e),l(0,e)):t==3&&(l(0,e[28].tile="wall",e),l(0,e[47].tile="wall",e),l(0,e[199].tile="wall",e),l(0,e[218].tile="wall",e),l(0,e[115].tile="wall",e),l(0,e[116].tile="wall",e),l(0,e))}else if(d==1){let t=Math.floor(Math.random()*4);t==0?(l(0,e[130].tile="wall",e),l(0,e[131].tile="wall",e),l(0,e[199].tile="wall",e),l(0,e[218].tile="wall",e),l(0,e)):t==1?(l(0,e[115].tile="wall",e),l(0,e[116].tile="wall",e),l(0,e[199].tile="wall",e),l(0,e[218].tile="wall",e),l(0,e)):t==2?(l(0,e[28].tile="wall",e),l(0,e[47].tile="wall",e),l(0,e[199].tile="wall",e),l(0,e[218].tile="wall",e),l(0,e)):t==3?(l(0,e[28].tile="wall",e),l(0,e[47].tile="wall",e),l(0,e[130].tile="wall",e),l(0,e[131].tile="wall",e),l(0,e)):t==4&&(l(0,e[28].tile="wall",e),l(0,e[47].tile="wall",e),l(0,e[115].tile="wall",e),l(0,e[116].tile="wall",e),l(0,e))}else if(d==2){let t=Math.floor(Math.random()*3);t==0?(l(0,e[28].tile="wall",e),l(0,e[47].tile="wall",e),l(0,e)):t==1?(l(0,e[115].tile="wall",e),l(0,e[116].tile="wall",e),l(0,e)):t==2?(l(0,e[199].tile="wall",e),l(0,e[218].tile="wall",e),l(0,e)):t==3&&(l(0,e[130].tile="wall",e),l(0,e[131].tile="wall",e),l(0,e))}}function a(){let t=Math.floor(Math.random()*6),k=Math.floor(Math.random()*3);t==0?k==0?(l(5,_=U),q=!0):k==1?(l(5,_=B),q=!0):k==2&&(l(5,_=L),q=!0):l(5,_=[])}function D(){l(5,_=_.map(t=>({...t,left:t.left+=(r-t.left)*2e-4,top:t.top+=(i-t.top)*2e-4})).filter(t=>t.left>=448&&t.left<=1006&&t.top>=277&&t.top<=539)),j(),_.length>0?requestAnimationFrame(D):q=!1}function g(){I.forEach((t,k)=>{_.forEach((K,ie)=>{t.left<K.left+K.width&&t.left+t.width>K.left&&t.top<K.top+K.height&&t.top+t.height>K.top&&(K.hp-=1,I.splice(k,1),K.hp<=0&&_.splice(ie,1))})})}function j(){_.forEach(t=>{r<t.left+t.width&&r+he>t.left&&i<t.top+t.height&&i+re>t.top&&(l(3,x-=1),console.log(x),x<=0&&(alert("You died"),l(3,x=6),l(5,_=[])))})}function n(){let t=!1,k=!1;b.a&&r>448&&(p.x=Math.max(p.x-G,-z),t=!0),b.d&&r<1006&&(p.x=Math.min(p.x+G,z),t=!0),b.w&&i>277&&(p.y=Math.max(p.y-G,-z),k=!0),b.s&&i<539&&(p.y=Math.min(p.y+G,z),k=!0),t||(p.x*=.9),k||(p.y*=.9),t||(p.x=p.x*.9),k||(p.y=p.y*.9),i<277?r>720&&r<730&&e[47].tile=="door"&&q==!1?(l(2,i=538),w(),a()):l(2,i=277):i>539?r>720&&r<730&&e[199].tile=="door"&&q==!1?(l(2,i=278),w(),a()):l(2,i=539):l(2,i+=p.y),r<448?i>400&&i<410&&e[116].tile=="door"&&q==!1?(l(1,r=1005),w(),a()):l(1,r=448):r>1006?i>400&&i<410&&e[130].tile=="door"&&q==!1?(l(1,r=449),w(),a()):l(1,r=1006):l(1,r+=p.x),(P||p.x!==0||p.y!==0)&&requestAnimationFrame(n)}function f(t){let k={left:r+15,top:i+15,width:10,height:10,velocity:{x:0,y:0}};t==="left"&&(k.velocity.x=-Q),t==="right"&&(k.velocity.x=Q),t==="up"&&(k.velocity.y=-Q),t==="down"&&(k.velocity.y=Q),I.push(k)}function m(){l(4,I=I.map(t=>({...t,left:t.left+t.velocity.x,top:t.top+t.velocity.y})).filter(t=>t.left>=448&&t.left<=1006&&t.top>=277&&t.top<=539)),g(),I.length>0&&requestAnimationFrame(m)}function s(t){u[t]||(f(t),m(),u[t]=setInterval(()=>{f(t)},400))}function y(t){u[t]&&(clearInterval(u[t]),delete u[t])}function Y(t){b[t.key]=!0,P||(P=!0,n()),t.key==="ArrowLeft"&&s("left"),t.key==="ArrowRight"&&s("right"),t.key==="ArrowUp"&&s("up"),t.key==="ArrowDown"&&s("down")}function C(t){b[t.key]=!1,t.key==="ArrowLeft"&&y("left"),t.key==="ArrowRight"&&y("right"),t.key==="ArrowUp"&&y("up"),t.key==="ArrowDown"&&y("down")}return _.length>0?requestAnimationFrame(D):q=!1,setInterval(()=>{D()},10),[e,r,i,x,I,_,Y,C]}class Me extends we{constructor(o){super(),ue(this,o,me,_e,pe,{},null,[-1,-1])}}export{Me as component};
